{
    "sourceFile": "src/pages/ITSM/Releasemanage/Statistics/columns.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1645491402150,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1645491402150,
            "name": "Commit-0",
            "content": "import React from 'react';\r\nimport { Input, Divider } from 'antd';\r\nimport router from 'umi/router';\r\nimport { AlertTwoTone } from '@ant-design/icons';\r\n\r\nconst InputGroup = Input.Group;\r\n\r\nexport const columns = [\r\n  {\r\n    title: '发布编号',\r\n    dataIndex: 'releaseNo',\r\n    key: 'releaseNo',\r\n    render: (text, record) => {\r\n      const handleClick = () => {\r\n        router.push({\r\n          pathname: `/ITSM/releasemanage/plan/query/details`,\r\n          query: {\r\n            Id: record.releaseNo,\r\n            taskName: record.taskName,\r\n          },\r\n          state: {\r\n            dynamicpath: true,\r\n            menuDesc: '发布工单详情',\r\n          }\r\n        });\r\n      };\r\n      return (<a onClick={handleClick}>{text}</a>);\r\n    },\r\n    sorter: (a, b) => a.releaseNo.localeCompare(b.releaseNo),\r\n  },\r\n  {\r\n    title: '当前处理环节',\r\n    dataIndex: 'taskName',\r\n    key: 'taskName',\r\n    sorter: (a, b) => a.taskName.localeCompare(b.taskName),\r\n  },\r\n  {\r\n    title: '超时状态',\r\n    dataIndex: 'timeoutStatus',\r\n    key: 'timeoutStatus',\r\n    render: (text) => {\r\n      const blubnap = new Map([\r\n        ['未超时', <AlertTwoTone twoToneColor=\"#52C41A\" />],\r\n        ['即将超时', <AlertTwoTone twoToneColor=\"orange\" />],\r\n        ['已超时', <AlertTwoTone twoToneColor=\"red\" />]\r\n      ]);\r\n      const colormap = new Map([\r\n        ['未超时', '#52C41A'],\r\n        ['即将超时', 'orange'],\r\n        ['已超时', 'red']\r\n      ]);\r\n      return (\r\n        <><span style={{ fontSize: '1.4em', marginRight: 8 }}>{blubnap.get(text)}</span>\r\n          <span style={{ color: colormap.get(text) }}>{text}</span>\r\n        </>\r\n      )\r\n    },\r\n    sorter: (a, b) => a.timeoutStatus.localeCompare(b.timeoutStatus),\r\n  },\r\n  {\r\n    title: '发布类型',\r\n    dataIndex: 'releaseType',\r\n    key: 'releaseType',\r\n    sorter: (a, b) => a.releaseType.localeCompare(b.releaseType),\r\n  },\r\n  {\r\n    title: '责任单位',\r\n    dataIndex: 'dutyUnit',\r\n    key: 'dutyUnit',\r\n    sorter: (a, b) => a.dutyUnit.localeCompare(b.dutyUnit),\r\n  },\r\n  {\r\n    title: '出厂测试登记人',\r\n    dataIndex: 'registerUser',\r\n    key: 'registerUser',\r\n    sorter: (a, b) => a.registerUser.localeCompare(b.registerUser),\r\n  },\r\n  {\r\n    title: '发送人',\r\n    dataIndex: 'sender',\r\n    key: 'sender',\r\n    sorter: (a, b) => a.sender.localeCompare(b.sender),\r\n  },\r\n  {\r\n    title: '发送时间',\r\n    dataIndex: 'sendTime',\r\n    key: 'sendTime',\r\n    sorter: (a, b) => a.sendTime.localeCompare(b.sendTime),\r\n  },\r\n];\r\nexport const columnstask = [\r\n  {\r\n    title: '发布编号',\r\n    dataIndex: 'releaseNo',\r\n    key: 'releaseNo',\r\n    render: (text, record) => {\r\n      const handleClick = () => {\r\n        router.push({\r\n          pathname: `/ITSM/releasemanage/plan/query/details`,\r\n          query: {\r\n            Id: record.releaseNo,\r\n            taskName: record.taskName,\r\n          },\r\n          state: {\r\n            dynamicpath: true,\r\n            menuDesc: '发布工单详情',\r\n          }\r\n        });\r\n      };\r\n      return (<a onClick={handleClick}>{text}</a>);\r\n    },\r\n    sorter: (a, b) => a.releaseNo.localeCompare(b.releaseNo),\r\n  },\r\n  {\r\n    title: '上一环节处理人',\r\n    dataIndex: 'prevAssignee',\r\n    key: 'prevAssignee',\r\n  },\r\n  {\r\n    title: '当前环节处理人',\r\n    dataIndex: 'assignee',\r\n    key: 'assignee',\r\n  },\r\n  {\r\n    title: '超时环节',\r\n    dataIndex: 'taskName',\r\n    key: 'taskName',\r\n  },\r\n  {\r\n    title: '超时时间',\r\n    dataIndex: 'timeoutTime',\r\n    key: 'timeoutTime',\r\n  },\r\n  {\r\n    title: '超时原因',\r\n    dataIndex: 'timeoutReason',\r\n    key: 'timeoutReason',\r\n  },\r\n];\r\n\r\nexport const columnrelease = [\r\n  {\r\n    title: '发布编号',\r\n    dataIndex: 'releaseNo',\r\n    key: 'releaseNo',\r\n    render: (text, record) => {\r\n      const handleClick = () => {\r\n        router.push({\r\n          pathname: `/ITSM/releasemanage/plan/query/details`,\r\n          query: {\r\n            Id: record.releaseNo,\r\n            taskName: record.taskName,\r\n          },\r\n          state: {\r\n            dynamicpath: true,\r\n            menuDesc: '发布工单详情',\r\n          }\r\n        });\r\n      };\r\n      return (<a onClick={handleClick}>{text}</a>);\r\n    },\r\n    sorter: (a, b) => a.releaseNo.localeCompare(b.releaseNo),\r\n  },\r\n  {\r\n    title: '功能类型',\r\n    dataIndex: 'abilityType',\r\n    key: 'abilityType',\r\n    width: 120,\r\n  },\r\n  {\r\n    title: '模块',\r\n    dataIndex: 'module',\r\n    key: 'module',\r\n    width: 120,\r\n  },\r\n  {\r\n    title: '功能名称',\r\n    dataIndex: 'appName',\r\n    key: 'appName',\r\n    width: 150,\r\n  },\r\n  {\r\n    title: '问题类型',\r\n    dataIndex: 'problemType',\r\n    key: 'problemType',\r\n    width: 150,\r\n  },\r\n  {\r\n    title: '测试内容及预期效果',\r\n    dataIndex: 't5',\r\n    key: 't5',\r\n    width: 300,\r\n    render: (text, record) => {\r\n      return (\r\n        <>\r\n          <InputGroup compact>\r\n            <span style={{ width: 70, textAlign: 'right' }}>功能菜单：</span>\r\n            <span style={{ width: 210 }}>{record.testMenu}</span>\r\n          </InputGroup>\r\n          <Divider type='horizontal' style={{ margin: '6px 0' }} />\r\n          <InputGroup compact>\r\n            <span style={{ width: 70, textAlign: 'right' }}>预期效果：</span>\r\n            <span style={{ width: 210 }}>{record.testResult}</span>\r\n          </InputGroup>\r\n          <Divider type='horizontal' style={{ margin: '6px 0' }} />\r\n          <InputGroup compact>\r\n            <span style={{ width: 70, textAlign: 'right' }}>验证步骤：</span>\r\n            <span style={{ width: 210 }}>{record.testStep}</span>\r\n          </InputGroup>\r\n        </>\r\n      );\r\n    }\r\n  },\r\n  {\r\n    title: '状态',\r\n    dataIndex: 'verifyStatus',\r\n    key: 'verifyStatus',\r\n    align: 'center',\r\n    width: 100,\r\n  },\r\n  {\r\n    title: '是否通过',\r\n    dataIndex: 'passTest',\r\n    key: 'passTest',\r\n    align: 'center',\r\n    width: 100,\r\n  },\r\n  {\r\n    title: '业务负责人',\r\n    dataIndex: 'responsible',\r\n    key: 'responsible',\r\n    width: 120,\r\n  },\r\n  {\r\n    title: '开发人员',\r\n    dataIndex: 'developer',\r\n    key: 'developer',\r\n    width: 100,\r\n  },\r\n  {\r\n    title: '操作人',\r\n    dataIndex: 'operator',\r\n    key: 'operator',\r\n    align: 'center',\r\n    width: 100,\r\n  },\r\n];\r\n"
        }
    ]
}